# データ構造（JSON）

作成日: 2026年1月31日
対象: Rust + Tauri によるLinux向けワイヤーフレーム作成アプリ
目的: Frontend ↔ Backend 間でやり取りするJSON構造を定義

---

## 1. プロジェクト関連

### `ProjectInfo`
```json
{
  "id": "proj_123",
  "name": "My Wireframe",
  "path": "/home/user/projects/my-wireframe.wire",
  "updated_at": "2026-01-31T10:00:00Z",
  "pages": 3
}
```

### `ProjectData`
```json
{
  "id": "proj_123",
  "name": "My Wireframe",
  "canvas": {
    "width": 1440,
    "height": 900,
    "unit": "px",
    "background": "#FFFFFF"
  },
  "pages": [
    {
      "id": "page_1",
      "name": "Home",
      "nodes": [/* Node[] */]
    }
  ],
  "assets": [/* AssetInfo[] */],
  "settings": {/* AppSettings */}
}
```

### `CanvasSpec`
```json
{
  "width": 1440,
  "height": 900,
  "unit": "px",
  "background": "#FFFFFF"
}
```

### `SaveResult`
```json
{
  "ok": true,
  "path": "/home/user/projects/my-wireframe.wire",
  "saved_at": "2026-01-31T10:05:00Z"
}
```

### `RecentProject`
```json
{
  "name": "My Wireframe",
  "path": "/home/user/projects/my-wireframe.wire",
  "updated_at": "2026-01-30T12:00:00Z"
}
```

---

## 2. ノード/レイヤー

### `Node`
```json
{
  "id": "node_1",
  "type": "rect",
  "name": "Button",
  "frame": {"x": 100, "y": 80, "w": 200, "h": 48},
  "rotation": 0,
  "style": {"fill": "#3B82F6", "stroke": "#1D4ED8", "opacity": 1},
  "text": {"value": "Click", "font": "Inter", "size": 16, "color": "#FFFFFF"},
  "children": []
}
```

### `Frame`
```json
{
  "x": 0,
  "y": 0,
  "w": 100,
  "h": 100
}
```

---

## 3. アセット/エクスポート

### `AssetInfo`
```json
{
  "id": "asset_1",
  "name": "logo.svg",
  "type": "svg",
  "path": "/home/user/assets/logo.svg"
}
```

### `ExportSpec`
```json
{
  "format": "png",
  "scale": 2,
  "include_background": true
}
```

### `ExportResult`
```json
{
  "ok": true,
  "path": "/home/user/exports/home.png"
}
```

---

## 4. 設定/システム

### `AppSettings`
```json
{
  "theme": "dark",
  "grid": {"enabled": true, "size": 8},
  "autosave": {"enabled": true, "interval_sec": 60},
  "recent_limit": 10
}
```

### `AppInfo`
```json
{
  "name": "Wireframe Studio",
  "version": "0.1.0",
  "platform": "linux"
}
```

### `FileFilter`
```json
{
  "name": "Images",
  "extensions": ["png", "jpg", "jpeg", "svg"]
}
```

---

## 5. エラー

### `AppError`
```json
{
  "code": "FILE_NOT_FOUND",
  "message": "File not found",
  "details": {"path": "/path/to/file"}
}
```
